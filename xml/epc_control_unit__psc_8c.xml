<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.3" xml:lang="en-US">
  <compounddef id="epc_control_unit__psc_8c" kind="file" language="C++">
    <compoundname>epcControlUnit_psc.c</compoundname>
    <includes local="no">stdint.h</includes>
    <includes local="no">stdio.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">windows.h</includes>
    <includes refid="lib_epc_control_8h" local="yes">libEpcControl.h</includes>
    <incdepgraph>
      <node id="6">
        <label>libEpcControl.h</label>
        <link refid="lib_epc_control_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c</label>
        <link refid="epc_control_unit__psc_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>stdbool.h</label>
      </node>
      <node id="2">
        <label>stdint.h</label>
      </node>
      <node id="3">
        <label>stdio.h</label>
      </node>
      <node id="7">
        <label>stdlib.h</label>
      </node>
      <node id="4">
        <label>string.h</label>
      </node>
      <node id="5">
        <label>windows.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="struct_e_c_u___input_tlc_pdi__s" prot="public">ECU_InputTlcPdi_s</innerclass>
    <innerclass refid="struct_e_c_u___output_tlc_pdo__s" prot="public">ECU_OutputTlcPdo_s</innerclass>
    <innerclass refid="struct_e_c_u___input_control__s" prot="public">ECU_InputControl_s</innerclass>
    <innerclass refid="struct_e_c_u___input_reference__s" prot="public">ECU_InputReference_s</innerclass>
    <innerclass refid="struct_e_c_u___input_feedback__s" prot="public">ECU_InputFeedback_s</innerclass>
    <innerclass refid="struct_e_c_u___input__s" prot="public">ECU_Input_s</innerclass>
    <innerclass refid="struct_e_c_u___output_status__s" prot="public">ECU_OutputStatus_s</innerclass>
    <innerclass refid="struct_e_c_u___output_monitor__s" prot="public">ECU_OutputMonitor_s</innerclass>
    <innerclass refid="struct_e_c_u___output_control__s" prot="public">ECU_OutputControl_s</innerclass>
    <innerclass refid="struct_e_c_u___output_reference__s" prot="public">ECU_OutputReference_s</innerclass>
    <innerclass refid="struct_e_c_u___output__s" prot="public">ECU_Output_s</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a44d86f63e1aea9eb93b0c6966167f65b" prot="public" static="no">
        <name>ECU_SCALE_FROM_PSC_V</name>
        <initializer>( 1.0e3 )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="52" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="52" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a35fb0e0c9c3c695d27f8f8dcfa4a711c" prot="public" static="no">
        <name>ECU_SCALE_FROM_PSC_I</name>
        <initializer>( 1.0e3 )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="53" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="53" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a5b3287e95c8ab5de4e15670efccce003" prot="public" static="no">
        <name>ECU_SCALE_FROM_PSC_P</name>
        <initializer>( <ref refid="epc_control_unit__psc_8c_1a44d86f63e1aea9eb93b0c6966167f65b" kindref="member">ECU_SCALE_FROM_PSC_V</ref> * <ref refid="epc_control_unit__psc_8c_1a35fb0e0c9c3c695d27f8f8dcfa4a711c" kindref="member">ECU_SCALE_FROM_PSC_I</ref> )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="54" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="54" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a8a87ace1ff44a908fa1c947428ebebf2" prot="public" static="no">
        <name>ECU_SCALE_TO_PSC_V</name>
        <initializer>( 1.0 / <ref refid="epc_control_unit__psc_8c_1a44d86f63e1aea9eb93b0c6966167f65b" kindref="member">ECU_SCALE_FROM_PSC_V</ref> )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="56" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="56" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a0a55c9c8b8b81c912f11d45e256aec5b" prot="public" static="no">
        <name>ECU_SCALE_TO_PSC_I</name>
        <initializer>( 1.0 / <ref refid="epc_control_unit__psc_8c_1a35fb0e0c9c3c695d27f8f8dcfa4a711c" kindref="member">ECU_SCALE_FROM_PSC_I</ref> )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="57" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="57" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a702c18336033286b02b95866383fec06" prot="public" static="no">
        <name>ECU_SCALE_TO_PSC_P</name>
        <initializer>( 1.0 / <ref refid="epc_control_unit__psc_8c_1a5b3287e95c8ab5de4e15670efccce003" kindref="member">ECU_SCALE_FROM_PSC_P</ref> )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="58" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="58" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a73c7870ad0714f77bbe77f7f621b3bb5" prot="public" static="no">
        <name>ECU_DLL_TARGET_FILENAME</name>
        <initializer>                                                                                   &quot;converterControl&quot;                          /* Dll target file name without file extension. The file
                                                                                   will be written to the PSCAD temporary folder. */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="61" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="60" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a4a872ccbd01bb8c26c9b67fe13895528" prot="public" static="no">
        <name>ECU_DLL_FILE_EXTENSION</name>
        <initializer>&quot;.dll&quot;                                      /* Dll file extension */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="62" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="61" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" prot="public" static="no">
        <name>ECU_MAX_INSTANCES</name>
        <initializer>10                                          /* Maximum amount of supported instances */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="63" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="62" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" prot="public" static="no">
        <name>DLL_SIL_PORT_INP_P</name>
        <param><defname>instIdx</defname></param>
        <param><defname>mPort</defname></param>
        <initializer>(*SIL_PortsDll[instIdx])-&gt;inpPort[mPort].portPointer</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="69" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="68" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" prot="public" static="no">
        <name>DLL_SIL_PORT_OUT_P</name>
        <param><defname>instIdx</defname></param>
        <param><defname>mPort</defname></param>
        <initializer>(*SIL_PortsDll[instIdx])-&gt;outPort[mPort].portPointer</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="70" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="69" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4" prot="public" static="no" strong="no">
        <type></type>
        <name>ECU_InitStatus_e</name>
        <enumvalue id="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a498565ca366416aa65e1e213e96c9f2e" prot="public">
          <name>ECU_INIT_SUCCESSFUL</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a3f28c6a6430de80bc4a9b2c57be96f29" prot="public">
          <name>ECU_INIT_FAILED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a31fb1edc9a91a1218197760213962b67" prot="public">
          <name>ECU_INIT_CNT</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="156" column="1" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="156" bodyend="160"/>
      </memberdef>
      <memberdef kind="enum" id="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61d" prot="public" static="no" strong="no">
        <type></type>
        <name>ECU_DllLoadStatus_e</name>
        <enumvalue id="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daa0e615cfe4098aaeea7707edc64c5ce4" prot="public">
          <name>ECU_DLL_LOAD_SUCCESSFUL</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" prot="public">
          <name>ECU_DLL_LOAD_FAILED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61da6152b693943c2c9460a31303799c022e" prot="public">
          <name>ECU_DLL_LOAD_CNT</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="162" column="1" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="162" bodyend="166"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1aada87f8a06d3f3a98324a837a3693f4d" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___input_tlc_pdi__s" kindref="compound">ECU_InputTlcPdi_s</ref></type>
        <definition>typedef struct ECU_InputTlcPdi_s ECU_InputTlcPdi_t</definition>
        <argsstring></argsstring>
        <name>ECU_InputTlcPdi_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="79" column="19"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1aa3e8d51ab0e8cc8105dffab2220088a2" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___output_tlc_pdo__s" kindref="compound">ECU_OutputTlcPdo_s</ref></type>
        <definition>typedef struct ECU_OutputTlcPdo_s ECU_sOutputTlcPdo_t</definition>
        <argsstring></argsstring>
        <name>ECU_sOutputTlcPdo_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="96" column="21"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1aa73356b11bf03ec92bc735a85bca55fc" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___input_control__s" kindref="compound">ECU_InputControl_s</ref></type>
        <definition>typedef struct ECU_InputControl_s ECU_sInputControl_t</definition>
        <argsstring></argsstring>
        <name>ECU_sInputControl_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="100" column="21"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a2145616628bd68522f127ea3158a3b31" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___input_reference__s" kindref="compound">ECU_InputReference_s</ref></type>
        <definition>typedef struct ECU_InputReference_s ECU_sInputReference_t</definition>
        <argsstring></argsstring>
        <name>ECU_sInputReference_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="106" column="23"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a8bac538c25083c913ab05a3ce721dd5c" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___input_feedback__s" kindref="compound">ECU_InputFeedback_s</ref></type>
        <definition>typedef struct ECU_InputFeedback_s ECU_sInputFeedback_t</definition>
        <argsstring></argsstring>
        <name>ECU_sInputFeedback_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="112" column="22"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1af7cea98c7de75d62b7a61a4506a56080" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___input__s" kindref="compound">ECU_Input_s</ref></type>
        <definition>typedef struct ECU_Input_s ECU_sInput_t</definition>
        <argsstring></argsstring>
        <name>ECU_sInput_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="119" column="14"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a91ca8f855368d75a84ea6d715bc48154" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___output_status__s" kindref="compound">ECU_OutputStatus_s</ref></type>
        <definition>typedef struct ECU_OutputStatus_s ECU_sOutputStatus_t</definition>
        <argsstring></argsstring>
        <name>ECU_sOutputStatus_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="125" column="21"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1abf35ce5a3f7497508d37cd9a7b17ceab" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___output_monitor__s" kindref="compound">ECU_OutputMonitor_s</ref></type>
        <definition>typedef struct ECU_OutputMonitor_s ECU_sOutputMonitor_t</definition>
        <argsstring></argsstring>
        <name>ECU_sOutputMonitor_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="133" column="22"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a69eb3a659497728991a036c60b6ab1f1" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___output_control__s" kindref="compound">ECU_OutputControl_s</ref></type>
        <definition>typedef struct ECU_OutputControl_s ECU_sOutputControl_t</definition>
        <argsstring></argsstring>
        <name>ECU_sOutputControl_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="138" column="22"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a23fb932f4364ed64971bf5b39f30cd52" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___output_reference__s" kindref="compound">ECU_OutputReference_s</ref></type>
        <definition>typedef struct ECU_OutputReference_s ECU_sOutputReference_t</definition>
        <argsstring></argsstring>
        <name>ECU_sOutputReference_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="145" column="24"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a4f4448763d930df3386a8e88e20831d3" prot="public" static="no">
        <type>struct <ref refid="struct_e_c_u___output__s" kindref="compound">ECU_Output_s</ref></type>
        <definition>typedef struct ECU_Output_s ECU_sOutput_t</definition>
        <argsstring></argsstring>
        <name>ECU_sOutput_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="154" column="15"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a3b4aa6fcbff75c8e7c5de86b40020ae2" prot="public" static="no">
        <type>enum <ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4" kindref="member">ECU_InitStatus_e</ref></type>
        <definition>typedef enum ECU_InitStatus_e ECU_InitStatus_t</definition>
        <argsstring></argsstring>
        <name>ECU_InitStatus_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="160" column="18"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a1b64e2cee159f7602749caf581e386e4" prot="public" static="no">
        <type>enum <ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61d" kindref="member">ECU_DllLoadStatus_e</ref></type>
        <definition>typedef enum ECU_DllLoadStatus_e ECU_DllLoadStatus_t</definition>
        <argsstring></argsstring>
        <name>ECU_DllLoadStatus_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="166" column="21"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1aa87a00c8e7be1d6aafd8773a8baf8faf" prot="public" static="no">
        <type>void(*</type>
        <definition>typedef void(* SIL_initializeLibraryDll_t) (double, SIL_eSolverType_t, SIL_eModelIntent_t, char *)</definition>
        <argsstring>)(double, SIL_eSolverType_t, SIL_eModelIntent_t, char *)</argsstring>
        <name>SIL_initializeLibraryDll_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="169" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="169" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a544495a6a6fa5738f6ba2b7887561256" prot="public" static="no">
        <type>void(*</type>
        <definition>typedef void(* SIL_updateOutputDll_t) (double)</definition>
        <argsstring>)(double)</argsstring>
        <name>SIL_updateOutputDll_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="170" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="170" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1aeec649cafc11e4c145d9a1943e292f2a" prot="public" static="no">
        <type>void(*</type>
        <definition>typedef void(* SIL_updateStateDll_t) (double)</definition>
        <argsstring>)(double)</argsstring>
        <name>SIL_updateStateDll_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="171" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="171" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1acd0a43da0d2862d66ca1a1cf4482d828" prot="public" static="no">
        <type>void(*</type>
        <definition>typedef void(* SIL_writeSnapshotDll_t) (double, uint16_t, char *)</definition>
        <argsstring>)(double, uint16_t, char *)</argsstring>
        <name>SIL_writeSnapshotDll_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="172" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="172" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="epc_control_unit__psc_8c_1a6aafa2e0d4a767e704ff64d2909888e8" prot="public" static="no">
        <type>void(*</type>
        <definition>typedef void(* SIL_readSnapshotDll_t) (uint16_t, char *)</definition>
        <argsstring>)(uint16_t, char *)</argsstring>
        <name>SIL_readSnapshotDll_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="173" column="9" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="173" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1a73bb1b4022ef03d851675e394f0bece8" prot="public" static="yes" mutable="no">
        <type><ref refid="epc_control_unit__psc_8c_1af7cea98c7de75d62b7a61a4506a56080" kindref="member">ECU_sInput_t</ref></type>
        <definition>ECU_sInput_t ECU_Inputs[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>ECU_Inputs</name>
        <initializer>= { 0 }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="179" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="179" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1ae4408d2d7ed5454cd7ea03716a41eb69" prot="public" static="yes" mutable="no">
        <type><ref refid="epc_control_unit__psc_8c_1a4f4448763d930df3386a8e88e20831d3" kindref="member">ECU_sOutput_t</ref></type>
        <definition>ECU_sOutput_t ECU_Outputs[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>ECU_Outputs</name>
        <initializer>= { 0 }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="180" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="180" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1aa380cf7f805538d1617e7d0edf15af64" prot="public" static="yes" mutable="no">
        <type>HINSTANCE</type>
        <definition>HINSTANCE DLL_library[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>DLL_library</name>
        <initializer>= { NULL }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="182" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="182" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1a18d48e089ada1a7e472997240c394837" prot="public" static="yes" mutable="no">
        <type><ref refid="lib_epc_control_8h_1adc106917d4b7e38833c410ab2a4282f9" kindref="member">SIL_sPorts_t</ref> **</type>
        <definition>SIL_sPorts_t** SIL_PortsDll[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>SIL_PortsDll</name>
        <initializer>= { NULL }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="183" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="183" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1ad488874c94025e6e144636f528d1c698" prot="public" static="yes" mutable="no">
        <type><ref refid="epc_control_unit__psc_8c_1aa87a00c8e7be1d6aafd8773a8baf8faf" kindref="member">SIL_initializeLibraryDll_t</ref></type>
        <definition>SIL_initializeLibraryDll_t SIL_initializeLibraryDll[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>SIL_initializeLibraryDll</name>
        <initializer>= { NULL }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="184" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="184" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1a02e274acc1aff23c8e0db6b9dc7a156b" prot="public" static="yes" mutable="no">
        <type><ref refid="epc_control_unit__psc_8c_1a544495a6a6fa5738f6ba2b7887561256" kindref="member">SIL_updateOutputDll_t</ref></type>
        <definition>SIL_updateOutputDll_t SIL_updateOutputDll[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>SIL_updateOutputDll</name>
        <initializer>= { NULL }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="185" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="185" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1ae4640480f4b102a8d71292282dc2cb19" prot="public" static="yes" mutable="no">
        <type><ref refid="epc_control_unit__psc_8c_1aeec649cafc11e4c145d9a1943e292f2a" kindref="member">SIL_updateStateDll_t</ref></type>
        <definition>SIL_updateStateDll_t SIL_updateStateDll[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>SIL_updateStateDll</name>
        <initializer>= { NULL }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="186" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="186" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1a3e4bc88503bab12796d4e734c43347a6" prot="public" static="yes" mutable="no">
        <type><ref refid="epc_control_unit__psc_8c_1acd0a43da0d2862d66ca1a1cf4482d828" kindref="member">SIL_writeSnapshotDll_t</ref></type>
        <definition>SIL_writeSnapshotDll_t SIL_writeSnapshotDll[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>SIL_writeSnapshotDll</name>
        <initializer>= { NULL }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="187" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="187" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="epc_control_unit__psc_8c_1a4614ad1728fffda5b77beab657616cf3" prot="public" static="yes" mutable="no">
        <type><ref refid="epc_control_unit__psc_8c_1a6aafa2e0d4a767e704ff64d2909888e8" kindref="member">SIL_readSnapshotDll_t</ref></type>
        <definition>SIL_readSnapshotDll_t SIL_readSnapshotDll[ECU_MAX_INSTANCES]</definition>
        <argsstring>[ECU_MAX_INSTANCES]</argsstring>
        <name>SIL_readSnapshotDll</name>
        <initializer>= { NULL }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="188" column="37" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="188" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="epc_control_unit__psc_8c_1a20aac014fad6dd6f08e3233abb80cb28" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="epc_control_unit__psc_8c_1a1b64e2cee159f7602749caf581e386e4" kindref="member">ECU_DllLoadStatus_t</ref></type>
        <definition>ECU_DllLoadStatus_t ECU_loadDllFile</definition>
        <argsstring>(char *dllPath, char *tempPath, uint16_t instanceNumber, uint16_t multipleRun)</argsstring>
        <name>ECU_loadDllFile</name>
        <param>
          <type>char *</type>
          <declname>dllPath</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>tempPath</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>instanceNumber</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>multipleRun</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="468" column="21" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="468" bodyend="562" declfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" declline="202" declcolumn="29"/>
      </memberdef>
      <memberdef kind="function" id="epc_control_unit__psc_8c_1ac1f960a87a4a6a3b5ab4040ad6269eca" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="epc_control_unit__psc_8c_1a3b4aa6fcbff75c8e7c5de86b40020ae2" kindref="member">ECU_InitStatus_t</ref></type>
        <definition>ECU_InitStatus_t ECU_controlInitialize</definition>
        <argsstring>(int *instanceNumber, int *readSnapshot, int *multipleRun, double dtSim, char *dllPath, char *tempPath, char *pmvsPath)</argsstring>
        <name>ECU_controlInitialize</name>
        <param>
          <type>int *</type>
          <declname>instanceNumber</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>readSnapshot</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>multipleRun</declname>
        </param>
        <param>
          <type>double</type>
          <declname>dtSim</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>dllPath</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>tempPath</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>pmvsPath</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="227" column="18" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="227" bodyend="285"/>
      </memberdef>
      <memberdef kind="function" id="epc_control_unit__psc_8c_1a7a67c50669c6ba2f0d027951e720e848" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ECU_controlTerminate</definition>
        <argsstring>(int *instanceNumber)</argsstring>
        <name>ECU_controlTerminate</name>
        <param>
          <type>int *</type>
          <declname>instanceNumber</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="300" column="6" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="300" bodyend="306"/>
      </memberdef>
      <memberdef kind="function" id="epc_control_unit__psc_8c_1a84f39360200a5121adfaa47c0a966413" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ECU_controlUpdate</definition>
        <argsstring>(int *instanceNumber, int *writeSnapshot, double tSim, double tlcIn[6U], int ctl[1U], double ref[6U], double fbk[11U], int rly[4U], double mod[6U], int stat[6U], double mon[17U], double tlcOut[21U], double dbg[32U], double refOut[4U], char *tempPath)</argsstring>
        <name>ECU_controlUpdate</name>
        <param>
          <type>int *</type>
          <declname>instanceNumber</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>writeSnapshot</declname>
        </param>
        <param>
          <type>double</type>
          <declname>tSim</declname>
        </param>
        <param>
          <type>double</type>
          <declname>tlcIn</declname>
          <array>[6U]</array>
        </param>
        <param>
          <type>int</type>
          <declname>ctl</declname>
          <array>[1U]</array>
        </param>
        <param>
          <type>double</type>
          <declname>ref</declname>
          <array>[6U]</array>
        </param>
        <param>
          <type>double</type>
          <declname>fbk</declname>
          <array>[11U]</array>
        </param>
        <param>
          <type>int</type>
          <declname>rly</declname>
          <array>[4U]</array>
        </param>
        <param>
          <type>double</type>
          <declname>mod</declname>
          <array>[6U]</array>
        </param>
        <param>
          <type>int</type>
          <declname>stat</declname>
          <array>[6U]</array>
        </param>
        <param>
          <type>double</type>
          <declname>mon</declname>
          <array>[17U]</array>
        </param>
        <param>
          <type>double</type>
          <declname>tlcOut</declname>
          <array>[21U]</array>
        </param>
        <param>
          <type>double</type>
          <declname>dbg</declname>
          <array>[32U]</array>
        </param>
        <param>
          <type>double</type>
          <declname>refOut</declname>
          <array>[4U]</array>
        </param>
        <param>
          <type>char *</type>
          <declname>tempPath</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" line="331" column="6" bodyfile="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c" bodystart="331" bodyend="444"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="4"><highlight class="comment">*</highlight></codeline>
<codeline lineno="5"><highlight class="comment">*<sp/><sp/><sp/>#########<sp/><sp/><sp/><sp/>#########<sp/><sp/><sp/><sp/>#########<sp/><sp/><sp/>########<sp/><sp/><sp/><sp/><sp/><sp/>#######<sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/>#########<sp/><sp/><sp/>#######</highlight></codeline>
<codeline lineno="6"><highlight class="comment">*<sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/>##</highlight></codeline>
<codeline lineno="7"><highlight class="comment">*<sp/><sp/>#<sp/>########<sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##########<sp/><sp/>##</highlight></codeline>
<codeline lineno="8"><highlight class="comment">*<sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/><sp/><sp/><sp/>##<sp/><sp/>##<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>##</highlight></codeline>
<codeline lineno="9"><highlight class="comment">*<sp/><sp/><sp/>#########<sp/><sp/><sp/>#<sp/>########<sp/><sp/><sp/><sp/>#########<sp/><sp/>##<sp/>######<sp/><sp/><sp/><sp/><sp/><sp/>#######<sp/><sp/><sp/><sp/><sp/>######<sp/><sp/>######<sp/><sp/><sp/><sp/>#########<sp/><sp/>##</highlight></codeline>
<codeline lineno="10"><highlight class="comment">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>##</highlight></codeline>
<codeline lineno="11"><highlight class="comment">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#</highlight></codeline>
<codeline lineno="12"><highlight class="comment">*</highlight></codeline>
<codeline lineno="13"><highlight class="comment">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>COMPANY<sp/>CONFIDENTIAL</highlight></codeline>
<codeline lineno="14"><highlight class="comment">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>document<sp/>contains<sp/>information<sp/>proprietary<sp/>to<sp/>EPC<sp/>Power.</highlight></codeline>
<codeline lineno="15"><highlight class="comment">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>is<sp/>an<sp/>unpublished<sp/>work<sp/>subject<sp/>to<sp/>trade<sp/>secret<sp/>and<sp/>copyright<sp/>protection.</highlight></codeline>
<codeline lineno="16"><highlight class="comment">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>In<sp/>addition,<sp/>the<sp/>information<sp/>may<sp/>be<sp/>the<sp/>subject<sp/>of<sp/>patent<sp/>applications</highlight></codeline>
<codeline lineno="17"><highlight class="comment">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>the<sp/>United<sp/>States<sp/>and<sp/>foreign<sp/>countries.</highlight></codeline>
<codeline lineno="18"><highlight class="comment">*</highlight></codeline>
<codeline lineno="19"><highlight class="comment">*********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*<sp/>M<sp/>O<sp/>D<sp/>U<sp/>L<sp/>E<sp/><sp/><sp/><sp/>D<sp/>E<sp/>S<sp/>C<sp/>R<sp/>I<sp/>P<sp/>T<sp/>I<sp/>O<sp/>N</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*<sp/>Filename<sp/><sp/><sp/><sp/><sp/>:<sp/>epcControlUnit_psc.c</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/>Full<sp/>Name<sp/><sp/><sp/><sp/>:<sp/>EpcControlUnit</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*<sp/>Prefix<sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>ECU_</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*<sp/>Description<sp/><sp/>:<sp/>PSCAD-specific<sp/>C-wrapper<sp/>to<sp/>the<sp/>EPC<sp/>SIL<sp/>Library.<sp/>This<sp/>wrapper<sp/>translates<sp/>the<sp/>more</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>general<sp/>and<sp/>complex<sp/>EPC<sp/>SIL<sp/>Library<sp/>interfaces<sp/>into<sp/>a<sp/>reduced<sp/>set<sp/>of<sp/>interfaces<sp/>and</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>methods<sp/>for<sp/>the<sp/>EMTDC<sp/>solver<sp/>used<sp/>by<sp/>PSCAD.<sp/>This<sp/>wrapper<sp/>is<sp/>the<sp/>C<sp/>&quot;side&quot;<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>two-part<sp/>wrapper<sp/>set;<sp/>the<sp/>other<sp/>side<sp/>is<sp/>a<sp/>corresponding<sp/>Fortran<sp/>wrapper<sp/>required<sp/>to</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>further<sp/>simplify<sp/>this<sp/>wrapper<sp/>for<sp/>the<sp/>Fortran<sp/>interaction<sp/>with<sp/>EMTDC.</highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/>*<sp/>Author<sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>D.<sp/>Michaud</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>*<sp/>History<sp/><sp/><sp/><sp/><sp/><sp/>:</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>*<sp/>Date<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Name<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Description</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>*<sp/>28.02.2019<sp/><sp/><sp/>D.<sp/>Michaud<sp/><sp/><sp/><sp/><sp/><sp/>Initial<sp/>Version</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/>*<sp/>Include<sp/>Files</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdint.h&gt;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>standard<sp/>width<sp/>datatypes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>file<sp/>operations<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>memcpy<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;windows.h&gt;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>DLL<sp/>operations<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="lib_epc_control_8h" kindref="compound">libEpcControl.h</ref>&quot;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>EPC<sp/>Control<sp/>Library<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>*<sp/>Constant<sp/>Defines</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_SCALE_FROM_PSC_V<sp/><sp/><sp/><sp/>(<sp/>1.0e3<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_SCALE_FROM_PSC_I<sp/><sp/><sp/><sp/>(<sp/>1.0e3<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_SCALE_FROM_PSC_P<sp/><sp/><sp/><sp/>(<sp/>ECU_SCALE_FROM_PSC_V<sp/>*<sp/>ECU_SCALE_FROM_PSC_I<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_SCALE_TO_PSC_V<sp/><sp/><sp/><sp/><sp/><sp/>(<sp/>1.0<sp/>/<sp/>ECU_SCALE_FROM_PSC_V<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_SCALE_TO_PSC_I<sp/><sp/><sp/><sp/><sp/><sp/>(<sp/>1.0<sp/>/<sp/>ECU_SCALE_FROM_PSC_I<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_SCALE_TO_PSC_P<sp/><sp/><sp/><sp/><sp/><sp/>(<sp/>1.0<sp/>/<sp/>ECU_SCALE_FROM_PSC_P<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_DLL_TARGET_FILENAME<sp/><sp/><sp/><sp/><sp/>&quot;converterControl&quot;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Dll<sp/>target<sp/>file<sp/>name<sp/>without<sp/>file<sp/>extension.<sp/>The<sp/>file</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>will<sp/>be<sp/>written<sp/>to<sp/>the<sp/>PSCAD<sp/>temporary<sp/>folder.<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_DLL_FILE_EXTENSION<sp/><sp/><sp/><sp/><sp/><sp/>&quot;.dll&quot;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Dll<sp/>file<sp/>extension<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ECU_MAX_INSTANCES<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>10<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Maximum<sp/>amount<sp/>of<sp/>supported<sp/>instances<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="67"><highlight class="comment"><sp/>*<sp/>Macro<sp/>Defines</highlight></codeline>
<codeline lineno="68"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DLL_SIL_PORT_INP_P(instIdx,<sp/>mPort)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*SIL_PortsDll[instIdx])-&gt;inpPort[mPort].portPointer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DLL_SIL_PORT_OUT_P(instIdx,<sp/>mPort)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*SIL_PortsDll[instIdx])-&gt;outPort[mPort].portPointer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="74"><highlight class="comment"><sp/>*<sp/>Type<sp/>Definitions</highlight></codeline>
<codeline lineno="75" refid="struct_e_c_u___input_tlc_pdi__s" refkind="compound"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___input_tlc_pdi__s" kindref="compound">ECU_InputTlcPdi_s</ref><sp/>{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_tlc_pdi__s_1a9008bd64b8b58241139ada626ffc6842" kindref="member">controlModeRequest</ref>;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_tlc_pdi__s_1a194be3de7073e508b34d66c24f9cfe06" kindref="member">rIg_ref</ref>[2U];</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_tlc_pdi__s_1a8b3c068e762922ebee4745c1a8f3842c" kindref="member">eVg_ref</ref>[3U];</highlight></codeline>
<codeline lineno="80"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1aada87f8a06d3f3a98324a837a3693f4d" kindref="member">ECU_InputTlcPdi_t</ref>;</highlight></codeline>
<codeline lineno="81" refid="struct_e_c_u___output_tlc_pdo__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___output_tlc_pdo__s" kindref="compound">ECU_OutputTlcPdo_s</ref><sp/>{</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1a6fe88aceeeaa3655c06a3d0e04a38449" kindref="member">appState</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Application<sp/>state.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1ad4cfc05bfdbe5279ec567e439623ee38" kindref="member">isFaulted</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Unit<sp/>control<sp/>fault<sp/>status.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1a51a828db845235526793223fc2166901" kindref="member">timeStamp</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Coherent<sp/>dataset<sp/>time<sp/>stamp<sp/>[ns].<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1ab27ce7f5fc8055ea55fba42f24f3c243" kindref="member">timeSinceLastComm</ref>;<sp/><sp/></highlight><highlight class="comment">/*<sp/>Time<sp/>since<sp/>last<sp/>Modbus<sp/>command<sp/>[ms]<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1afac1e275bcba8024d8e9bee544206c50" kindref="member">controlModeAccept</ref>;<sp/><sp/></highlight><highlight class="comment">/*<sp/>Accepted<sp/>control<sp/>mode,<sp/>see<sp/>above<sp/>description<sp/>for<sp/>TLC_eControlMode_t.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1a64b540228b0657908ef0f6ef6a005641" kindref="member">acNetworkStatus</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>AC<sp/>network<sp/>summary<sp/>status.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1ad516aca3e35c4938566a4db5c4eeb26c" kindref="member">isIslanded</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Island<sp/>detection<sp/>status.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1aca567a66a91b7b8fa5550e0f66590354" kindref="member">isPhaseLocked</ref>;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>PLL<sp/>phase-lock<sp/>criteria<sp/>fulfilled.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1a9312882a15af95c2a5ad8bc4a804391e" kindref="member">xIg_lim</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Maximal<sp/>&quot;grid&quot;<sp/>current<sp/>magnitude<sp/>(current<sp/>limit)<sp/>[A].<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1afcea6988c57dcd85e9f82262c8973b7f" kindref="member">eVg_act</ref>[3U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Actual<sp/>&quot;grid&quot;<sp/>voltage<sp/>in<sp/>polar+frequency<sp/>form<sp/>[V,rms;<sp/>rad;<sp/>rad/s].<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1ae8a73fb90185604f11520490d2db9cbf" kindref="member">pVg_act</ref>[3U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Sampled<sp/>&quot;grid&quot;<sp/>phase<sp/>voltages<sp/>[V].<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1a7a639bc1912bb2c711d9f6c8297e523e" kindref="member">rIg_est</ref>[2U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Estimated<sp/>&quot;grid&quot;<sp/>current,<sp/>synchronous<sp/>frame<sp/>of<sp/>reference<sp/>[A,rms].<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1af9c85b9748c12209baffbbb56332a233" kindref="member">rPg_est</ref>[2U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Estimated<sp/>&quot;grid&quot;<sp/>power,<sp/>synchronous<sp/>frame<sp/>[W;<sp/>VA].<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s_1a05273c9299859264969f490364de9c74" kindref="member">rIg_ref</ref>[2U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reference<sp/>(actual/limited)<sp/>&quot;grid&quot;<sp/>current,<sp/>synchronous<sp/>frame<sp/>[A,rms].<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1aa3e8d51ab0e8cc8105dffab2220088a2" kindref="member">ECU_sOutputTlcPdo_t</ref>;</highlight></codeline>
<codeline lineno="98" refid="struct_e_c_u___input_control__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___input_control__s" kindref="compound">ECU_InputControl_s</ref><sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_control__s_1a6f2be2fab0203c66d6bf02a97a8ebd7f" kindref="member">runRequest</ref>;</highlight></codeline>
<codeline lineno="101"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1aa73356b11bf03ec92bc735a85bca55fc" kindref="member">ECU_sInputControl_t</ref>;</highlight></codeline>
<codeline lineno="102" refid="struct_e_c_u___input_reference__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___input_reference__s" kindref="compound">ECU_InputReference_s</ref><sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_reference__s_1a5ef83c2911f09fe4df4e4ba645a9139b" kindref="member">fvRef</ref>[2U];</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_reference__s_1a8e3d79b837359aed30feb3eb11dcdbb0" kindref="member">rIg</ref>[4U];</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_reference__s_1af2e4a0e03243482429cb905c69636ad2" kindref="member">rPg</ref>[2U];</highlight></codeline>
<codeline lineno="107"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a2145616628bd68522f127ea3158a3b31" kindref="member">ECU_sInputReference_t</ref>;</highlight></codeline>
<codeline lineno="108" refid="struct_e_c_u___input_feedback__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___input_feedback__s" kindref="compound">ECU_InputFeedback_s</ref><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_feedback__s_1a6ad89ef8c33c3adc97cf20d46f8f7201" kindref="member">dcV</ref>[2U];</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_feedback__s_1a59d54c8fc746415466047bb0cc8bee5d" kindref="member">pIc</ref>[6U];</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_feedback__s_1ad5b9ee2857ef88d289f6f158f62aa267" kindref="member">pVl</ref>[3U];</highlight></codeline>
<codeline lineno="113"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a8bac538c25083c913ab05a3ce721dd5c" kindref="member">ECU_sInputFeedback_t</ref>;</highlight></codeline>
<codeline lineno="114" refid="struct_e_c_u___input__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___input__s" kindref="compound">ECU_Input_s</ref><sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_tlc_pdi__s" kindref="compound">ECU_InputTlcPdi_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input__s_1a74ae8fb25e193685bd9051b85c711059" kindref="member">tlcPdi</ref>;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_control__s" kindref="compound">ECU_sInputControl_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input__s_1a22397e9b1f74ad4f7362a5e0a9d905b4" kindref="member">control</ref>;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_reference__s" kindref="compound">ECU_sInputReference_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input_feedback__s" kindref="compound">ECU_sInputFeedback_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>;</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1af7cea98c7de75d62b7a61a4506a56080" kindref="member">ECU_sInput_t</ref>;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="struct_e_c_u___output_status__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___output_status__s" kindref="compound">ECU_OutputStatus_s</ref><sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_status__s_1a34406bd5ee14364b5daed117b1f2c1ca" kindref="member">controlStatus</ref>[3U];</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_status__s_1a36aaac4671ac20411cd4ccd1e36d1723" kindref="member">gridMonitorLocal</ref>[3U];</highlight></codeline>
<codeline lineno="126"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a91ca8f855368d75a84ea6d715bc48154" kindref="member">ECU_sOutputStatus_t</ref>;</highlight></codeline>
<codeline lineno="127" refid="struct_e_c_u___output_monitor__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___output_monitor__s" kindref="compound">ECU_OutputMonitor_s</ref><sp/>{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_monitor__s_1aabe5ff0fa220f8329a2ead03969df6c9" kindref="member">fvLocal</ref>[3U];<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Frequency/Voltage<sp/>Monitor,<sp/>Local<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_monitor__s_1a9515c7d915f6aaaac6d2c37ffb1c0b21" kindref="member">mIg</ref>[4U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Actual<sp/>Grid<sp/>Current<sp/>Monitor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_monitor__s_1a3e3e0f3f2dc1e1f8a89394c5f8ac455f" kindref="member">mPg</ref>[4U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Actual<sp/>Grid<sp/>Power<sp/>Monitor<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_monitor__s_1a79ce2ddc6bc6684395e66df33be3e436" kindref="member">scI</ref>[4U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Actual<sp/>Grid<sp/>Symmetrical<sp/>Currents<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_monitor__s_1a5f7f5d0efac544fbf92949956d8288ba" kindref="member">scV</ref>[2U];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Actual<sp/>Grid<sp/>Symmetrical<sp/>Voltages<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1abf35ce5a3f7497508d37cd9a7b17ceab" kindref="member">ECU_sOutputMonitor_t</ref>;</highlight></codeline>
<codeline lineno="135" refid="struct_e_c_u___output_control__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___output_control__s" kindref="compound">ECU_OutputControl_s</ref><sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_control__s_1a72d1c37c3cb91ffb220b3e64dc72fccf" kindref="member">relay</ref>[4U];</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_control__s_1a4c3c8b620a94dedf1fbcc260014861eb" kindref="member">mod</ref>[6U];</highlight></codeline>
<codeline lineno="139"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a69eb3a659497728991a036c60b6ab1f1" kindref="member">ECU_sOutputControl_t</ref>;</highlight></codeline>
<codeline lineno="140" refid="struct_e_c_u___output_reference__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___output_reference__s" kindref="compound">ECU_OutputReference_s</ref><sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_reference__s_1afd2cac0933eeed660a7463ff3809aa8b" kindref="member">rf_ref</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Frequency<sp/>reference<sp/>before<sp/>the<sp/>frequency<sp/>controller<sp/>[Hz]<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_reference__s_1afab1c97b00be2b75effbcade675485bf" kindref="member">rv_ref</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>AC<sp/>voltage<sp/>reference<sp/>before<sp/>the<sp/>voltage<sp/>controller<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_reference__s_1a502aaacad7d9a03df5d2070b37bb6b4b" kindref="member">rId</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Id<sp/>current<sp/>reference<sp/>before<sp/>current<sp/>controller<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_reference__s_1a0c21bb3a69c71b258f20700db40cb2c8" kindref="member">rIq</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Iq<sp/>current<sp/>reference<sp/>before<sp/>current<sp/>controller<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a23fb932f4364ed64971bf5b39f30cd52" kindref="member">ECU_sOutputReference_t</ref>;</highlight></codeline>
<codeline lineno="147" refid="struct_e_c_u___output__s" refkind="compound"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_e_c_u___output__s" kindref="compound">ECU_Output_s</ref><sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_status__s" kindref="compound">ECU_sOutputStatus_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output__s_1a4e3501ea02be276acf88cb2cf969a317" kindref="member">status</ref>;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_monitor__s" kindref="compound">ECU_sOutputMonitor_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_control__s" kindref="compound">ECU_sOutputControl_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output__s_1aafca3881519e887e1d837515d4cb6e0d" kindref="member">control</ref>;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_tlc_pdo__s" kindref="compound">ECU_sOutputTlcPdo_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output__s_1a936be796bbac9910ac1a72158eca02ba" kindref="member">tlcPdo</ref>;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output__s_1a0bfaad7c21729d6578bd209662a81948" kindref="member">debug</ref>[32U];</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output_reference__s" kindref="compound">ECU_sOutputReference_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_e_c_u___output__s_1accf89128f04bc9745220b7e028d76b65" kindref="member">refOut</ref>;</highlight></codeline>
<codeline lineno="155"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a4f4448763d930df3386a8e88e20831d3" kindref="member">ECU_sOutput_t</ref>;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4" kindref="member">ECU_InitStatus_e</ref><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a498565ca366416aa65e1e213e96c9f2e" kindref="member">ECU_INIT_SUCCESSFUL</ref>,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialization<sp/>was<sp/>successful<sp/>and<sp/>the<sp/>simulation<sp/>can<sp/>continue.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a3f28c6a6430de80bc4a9b2c57be96f29" kindref="member">ECU_INIT_FAILED</ref>,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialization<sp/>was<sp/>not<sp/>successful<sp/>and<sp/>the<sp/>simulation<sp/>cannot<sp/>be<sp/>continued.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a31fb1edc9a91a1218197760213962b67" kindref="member">ECU_INIT_CNT</ref></highlight></codeline>
<codeline lineno="161"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a3b4aa6fcbff75c8e7c5de86b40020ae2" kindref="member">ECU_InitStatus_t</ref>;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61d" kindref="member">ECU_DllLoadStatus_e</ref><sp/>{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daa0e615cfe4098aaeea7707edc64c5ce4" kindref="member">ECU_DLL_LOAD_SUCCESSFUL</ref>,<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Dll<sp/>file<sp/>was<sp/>loaded<sp/>successfully.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Dll<sp/>file<sp/>loading<sp/>was<sp/>failed.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61da6152b693943c2c9460a31303799c022e" kindref="member">ECU_DLL_LOAD_CNT</ref></highlight></codeline>
<codeline lineno="167"><highlight class="normal">}<sp/><ref refid="epc_control_unit__psc_8c_1a1b64e2cee159f7602749caf581e386e4" kindref="member">ECU_DllLoadStatus_t</ref>;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>pointer<sp/>definitions<sp/>for<sp/>DLL<sp/>interface<sp/>access<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>void<sp/>(*<ref refid="epc_control_unit__psc_8c_1aa87a00c8e7be1d6aafd8773a8baf8faf" kindref="member">SIL_initializeLibraryDll_t</ref>)(double,<sp/><ref refid="lib_epc_control_8h_1a3dd3ad23a360da9c6163594f679ab08b" kindref="member">SIL_eSolverType_t</ref>,<sp/><ref refid="lib_epc_control_8h_1a2fb84a2675f90cb1a951ff0ae4772f01" kindref="member">SIL_eModelIntent_t</ref>,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>void<sp/>(*<ref refid="epc_control_unit__psc_8c_1a544495a6a6fa5738f6ba2b7887561256" kindref="member">SIL_updateOutputDll_t</ref>)(double);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>void<sp/>(*<ref refid="epc_control_unit__psc_8c_1aeec649cafc11e4c145d9a1943e292f2a" kindref="member">SIL_updateStateDll_t</ref>)(double);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>void<sp/>(*<ref refid="epc_control_unit__psc_8c_1acd0a43da0d2862d66ca1a1cf4482d828" kindref="member">SIL_writeSnapshotDll_t</ref>)(double,<sp/>uint16_t,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>void<sp/>(*<ref refid="epc_control_unit__psc_8c_1a6aafa2e0d4a767e704ff64d2909888e8" kindref="member">SIL_readSnapshotDll_t</ref>)(uint16_t,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="178"><highlight class="comment"><sp/>*<sp/>Global<sp/>Variable<sp/>Declarations</highlight></codeline>
<codeline lineno="179"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_e_c_u___input__s" kindref="compound">ECU_sInput_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ECU_Inputs[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_e_c_u___output__s" kindref="compound">ECU_sOutput_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ECU_Outputs[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>HINSTANCE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DLL_library[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>NULL<sp/>};<sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>to<sp/>the<sp/>DLL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_s_i_l___ports__s" kindref="compound">SIL_sPorts_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**SIL_PortsDll[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>NULL<sp/>};<sp/></highlight><highlight class="comment">/*<sp/>Double<sp/>pointer<sp/>to<sp/>SIL_Ports<sp/>inside<sp/>the<sp/>DLL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1aa87a00c8e7be1d6aafd8773a8baf8faf" kindref="member">SIL_initializeLibraryDll_t</ref><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a3061953e757ae035f13df29ba38c1e93" kindref="member">SIL_initializeLibraryDll</ref>[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/>=<sp/>{<sp/>NULL<sp/>};<sp/></highlight><highlight class="comment">/*<sp/>Function<sp/>pointer<sp/>to<sp/>SIL_initializeLibrary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a544495a6a6fa5738f6ba2b7887561256" kindref="member">SIL_updateOutputDll_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1acfab1bdc19dfdaf14de941b25a0def42" kindref="member">SIL_updateOutputDll</ref>[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>NULL<sp/>};<sp/></highlight><highlight class="comment">/*<sp/>Function<sp/>pointer<sp/>to<sp/>SIL_updateOutput<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1aeec649cafc11e4c145d9a1943e292f2a" kindref="member">SIL_updateStateDll_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a99cba5606dc411a2ca258e735a1b7f4e" kindref="member">SIL_updateStateDll</ref>[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>NULL<sp/>};<sp/></highlight><highlight class="comment">/*<sp/>Function<sp/>pointer<sp/>to<sp/>SIL_updateState<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1acd0a43da0d2862d66ca1a1cf4482d828" kindref="member">SIL_writeSnapshotDll_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a5cfbb854944792b0587874dd4bf93578" kindref="member">SIL_writeSnapshotDll</ref>[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>NULL<sp/>};<sp/></highlight><highlight class="comment">/*<sp/>Function<sp/>pointer<sp/>to<sp/>SIL_writeSnapshot<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a6aafa2e0d4a767e704ff64d2909888e8" kindref="member">SIL_readSnapshotDll_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a05952bd1e61b51d0d4ba7e19c28ea50f" kindref="member">SIL_readSnapshotDll</ref>[<ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>]<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>{<sp/>NULL<sp/>};<sp/></highlight><highlight class="comment">/*<sp/>Function<sp/>pointer<sp/>to<sp/>SIL_readSnapshot<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="193"><highlight class="comment"><sp/>*<sp/>Imported<sp/>Variables</highlight></codeline>
<codeline lineno="194"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="197"><highlight class="comment"><sp/>*<sp/>Imported<sp/>Functions</highlight></codeline>
<codeline lineno="198"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="201"><highlight class="comment"><sp/>*<sp/>Forward<sp/>Declarations</highlight></codeline>
<codeline lineno="202"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1b64e2cee159f7602749caf581e386e4" kindref="member">ECU_DllLoadStatus_t</ref><sp/><sp/>ECU_loadDllFile(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*dllPath,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*tempPath,<sp/>uint16_t<sp/>instanceNumber,<sp/>uint16_t<sp/>multipleRun);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="207"><highlight class="comment"><sp/>*<sp/>Exported<sp/>Functions</highlight></codeline>
<codeline lineno="208"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="211"><highlight class="comment"><sp/>Function<sp/><sp/><sp/><sp/><sp/>:<sp/>ECU_controlInitialize</highlight></codeline>
<codeline lineno="212"><highlight class="comment"><sp/>Full<sp/>Name<sp/><sp/><sp/><sp/>:<sp/>EpcControlUnit.controlInitialize</highlight></codeline>
<codeline lineno="213"><highlight class="comment"><sp/>Visibility<sp/><sp/><sp/>:<sp/>Protected</highlight></codeline>
<codeline lineno="214"><highlight class="comment"></highlight></codeline>
<codeline lineno="215"><highlight class="comment"><sp/>In<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>instanceNumber<sp/><sp/>-<sp/>pointer<sp/>to<sp/>instance<sp/>number,<sp/>the<sp/>first<sp/>instance<sp/>has<sp/>a<sp/>number<sp/>of<sp/>1</highlight></codeline>
<codeline lineno="216"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>readSnapshot<sp/><sp/><sp/><sp/>-<sp/>pointer<sp/>to<sp/>flag<sp/>indicating<sp/>an<sp/>initialization<sp/>from<sp/>a<sp/>snapshot</highlight></codeline>
<codeline lineno="217"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>multipleRun<sp/><sp/><sp/><sp/><sp/>-<sp/>pointer<sp/>to<sp/>flag<sp/>indicating<sp/>multiple<sp/>run<sp/>status</highlight></codeline>
<codeline lineno="218"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dtSim<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>simulation<sp/>time<sp/>step;</highlight></codeline>
<codeline lineno="219"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pmvsPath<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>pointer<sp/>to<sp/>character<sp/>array<sp/>containing<sp/>path<sp/>to<sp/>PMVS<sp/>file.</highlight></codeline>
<codeline lineno="220"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dllPath<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>pointer<sp/>to<sp/>character<sp/>array<sp/>containing<sp/>path<sp/>to<sp/>converter<sp/>library<sp/>dll<sp/>file.</highlight></codeline>
<codeline lineno="221"><highlight class="comment"><sp/>InOut<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="222"><highlight class="comment"><sp/>Out<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="223"><highlight class="comment"><sp/>Returns<sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>Initialization<sp/>status.</highlight></codeline>
<codeline lineno="224"><highlight class="comment"><sp/>Description<sp/><sp/>:<sp/>Initialize<sp/>the<sp/>pointers<sp/>for<sp/>each<sp/>of<sp/>the<sp/>input<sp/>and<sp/>output<sp/>ports<sp/>and<sp/>initialize<sp/>the<sp/>SIL</highlight></codeline>
<codeline lineno="225"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>library.<sp/>Restores<sp/>data<sp/>from<sp/>the<sp/>snapshot<sp/>if<sp/>needed.<sp/>Called<sp/>once<sp/>as<sp/>the<sp/>first<sp/>step<sp/>upon</highlight></codeline>
<codeline lineno="226"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>execution<sp/>of<sp/>a<sp/>model<sp/>(before<sp/>any<sp/>state<sp/>or<sp/>output<sp/>update),<sp/>once<sp/>memory<sp/>has<sp/>been<sp/>allocated.</highlight></codeline>
<codeline lineno="227"><highlight class="comment">*********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><ref refid="epc_control_unit__psc_8c_1a3b4aa6fcbff75c8e7c5de86b40020ae2" kindref="member">ECU_InitStatus_t</ref><sp/><ref refid="epc_control_unit__psc_8c_1ac1f960a87a4a6a3b5ab4040ad6269eca" kindref="member">ECU_controlInitialize</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*instanceNumber,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*readSnapshot,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*multipleRun,</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dtSim,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*dllPath,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*tempPath,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pmvsPath)<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/><sp/><sp/><sp/>instanceIdx<sp/>=<sp/>(uint16_t)(*instanceNumber<sp/>-<sp/>1);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Instance<sp/>index<sp/>for<sp/>arrays<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>the<sp/>given<sp/>instance<sp/>number<sp/>is<sp/>within<sp/>allowed<sp/>instance<sp/>numbers.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*instanceNumber<sp/>&gt;<sp/><ref refid="epc_control_unit__psc_8c_1ab053dfe85edff1ce89eff223a924bc18" kindref="member">ECU_MAX_INSTANCES</ref>)<sp/>{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>Too<sp/>many<sp/>converter<sp/>instances.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a3f28c6a6430de80bc4a9b2c57be96f29" kindref="member">ECU_INIT_FAILED</ref>;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Load<sp/>Dll<sp/>file<sp/>for<sp/>the<sp/>requested<sp/>converter<sp/>instance<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daa0e615cfe4098aaeea7707edc64c5ce4" kindref="member">ECU_DLL_LOAD_SUCCESSFUL</ref><sp/>!=<sp/>ECU_loadDllFile(dllPath,<sp/>tempPath,<sp/>(uint16_t)*instanceNumber,<sp/>(uint16_t)*multipleRun))<sp/>{</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a3f28c6a6430de80bc4a9b2c57be96f29" kindref="member">ECU_INIT_FAILED</ref>;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Configure<sp/>library<sp/>param/input/output<sp/>pointers<sp/>to<sp/>local<sp/>data.<sp/>Local<sp/>I/O<sp/>data<sp/>structures<sp/>are<sp/>used</highlight></codeline>
<codeline lineno="244"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>since<sp/>unit<sp/>translations<sp/>will<sp/>be<sp/>required<sp/>between<sp/>PSCAD&apos;s<sp/>(typical)<sp/>use<sp/>of<sp/>non-base<sp/>units<sp/>(e.g.</highlight></codeline>
<codeline lineno="245"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>kA,<sp/>kV,<sp/>etc).<sp/>Further,<sp/>EPC<sp/>SIL<sp/>Library<sp/>expects<sp/>data<sp/>interchange<sp/>only<sp/>in<sp/>double<sp/>precision</highlight></codeline>
<codeline lineno="246"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>representation<sp/>due<sp/>to<sp/>the<sp/>prevalence<sp/>of<sp/>that<sp/>datatype<sp/>with<sp/>other<sp/>simulation<sp/>environments.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885ea7166aff228702dc13caf5967626efaa1" kindref="member">SIL_INP_CTL_RUN</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/>&amp;ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a22397e9b1f74ad4f7362a5e0a9d905b4" kindref="member">control</ref>.<ref refid="struct_e_c_u___input_control__s_1a6f2be2fab0203c66d6bf02a97a8ebd7f" kindref="member">runRequest</ref>;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885ea921d239e668458b03bc16a5a66dd5454" kindref="member">SIL_INP_REF_FVR</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a5ef83c2911f09fe4df4e4ba645a9139b" kindref="member">fvRef</ref>;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885ea6a0fca72779f012fff2c8ea0e5c00986" kindref="member">SIL_INP_REF_RIG</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a8e3d79b837359aed30feb3eb11dcdbb0" kindref="member">rIg</ref>;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885ea82acb03b55e5ebb711dfa1dfccb49590" kindref="member">SIL_INP_REF_RPG</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1af2e4a0e03243482429cb905c69636ad2" kindref="member">rPg</ref>;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885eaf980954a2cd4c2dcbb47c83e74c8a88e" kindref="member">SIL_INP_FBK_DCV</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>.<ref refid="struct_e_c_u___input_feedback__s_1a6ad89ef8c33c3adc97cf20d46f8f7201" kindref="member">dcV</ref>;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885ea163346ac2bfd0c2ebf7efb9e67fd4c64" kindref="member">SIL_INP_FBK_PIC</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>.<ref refid="struct_e_c_u___input_feedback__s_1a59d54c8fc746415466047bb0cc8bee5d" kindref="member">pIc</ref>;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885ea72246f1b86b35282f692c59ef3691951" kindref="member">SIL_INP_FBK_PVL</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>.<ref refid="struct_e_c_u___input_feedback__s_1ad5b9ee2857ef88d289f6f158f62aa267" kindref="member">pVl</ref>;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a24947579c3880186891cbb5b9e76756d" kindref="member">DLL_SIL_PORT_INP_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a7ccd8a2278ccf17d66ea951ee773885ea7b3c68ecc26512f1ed539c4ea88cc773" kindref="member">SIL_INP_CUST</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*)&amp;ECU_Inputs[instanceIdx].tlcPdi;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3aa32730ef97c9a8eb5e1328ffa03f734f" kindref="member">SIL_OUT_STA_CTL</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a4e3501ea02be276acf88cb2cf969a317" kindref="member">status</ref>.<ref refid="struct_e_c_u___output_status__s_1a34406bd5ee14364b5daed117b1f2c1ca" kindref="member">controlStatus</ref>;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3a461b753bc509a9ea390811f4099022da" kindref="member">SIL_OUT_STA_GML</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a4e3501ea02be276acf88cb2cf969a317" kindref="member">status</ref>.<ref refid="struct_e_c_u___output_status__s_1a36aaac4671ac20411cd4ccd1e36d1723" kindref="member">gridMonitorLocal</ref>;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3a3877128ecc7c07bbdfc485ffec628694" kindref="member">SIL_OUT_MON_FVL</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1aabe5ff0fa220f8329a2ead03969df6c9" kindref="member">fvLocal</ref>;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3ac30210d0a725f78ec7f8f096a308f202" kindref="member">SIL_OUT_MON_RIG</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a9515c7d915f6aaaac6d2c37ffb1c0b21" kindref="member">mIg</ref>;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3ad935533f629e631c69c2a102637f8671" kindref="member">SIL_OUT_MON_RPG</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a3e3e0f3f2dc1e1f8a89394c5f8ac455f" kindref="member">mPg</ref>;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3a145b61c2dd3b1a19587ca4cd45dffb85" kindref="member">SIL_OUT_MON_SCI</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a79ce2ddc6bc6684395e66df33be3e436" kindref="member">scI</ref>;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3af7453ef1bbe00b123147f93e1cb8dba5" kindref="member">SIL_OUT_MON_SCV</ref>)<sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a5f7f5d0efac544fbf92949956d8288ba" kindref="member">scV</ref>;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3a415d9ba9009591e374d6585c28309f6a" kindref="member">SIL_OUT_CTL_RLAY</ref>)<sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1aafca3881519e887e1d837515d4cb6e0d" kindref="member">control</ref>.<ref refid="struct_e_c_u___output_control__s_1a72d1c37c3cb91ffb220b3e64dc72fccf" kindref="member">relay</ref>;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3abe02ef98248b54f3d1e9e909d6ac2d53" kindref="member">SIL_OUT_CTL_GATE</ref>)<sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1aafca3881519e887e1d837515d4cb6e0d" kindref="member">control</ref>.<ref refid="struct_e_c_u___output_control__s_1a4c3c8b620a94dedf1fbcc260014861eb" kindref="member">mod</ref>;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3a23fc413006a1ead7f31a5e6d4bb1bba1" kindref="member">SIL_OUT_CUST</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*)&amp;ECU_Outputs[instanceIdx].tlcPdo;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3afdd819a0cd9386ad7a3d0ca3441d6594" kindref="member">SIL_OUT_DBG</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a0bfaad7c21729d6578bd209662a81948" kindref="member">debug</ref>;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="epc_control_unit__psc_8c_1a427c304e0fec00170d64d0e993dfdeed" kindref="member">DLL_SIL_PORT_OUT_P</ref>(instanceIdx,<sp/><ref refid="lib_epc_control_8h_1a941236de0fbb8ebfef607ae4eea4fac3a4ed5ea8358d221bdd61b784200486398" kindref="member">SIL_OUT_REF</ref>)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*)&amp;ECU_Outputs[instanceIdx].refOut;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>EPC<sp/>SIL<sp/>Library<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a3061953e757ae035f13df29ba38c1e93" kindref="member">SIL_initializeLibraryDll</ref>[instanceIdx](dtSim,<sp/><ref refid="lib_epc_control_8h_1a7c690e2e7f450fe5e100746ad4f59aa6a3366082b4a36688431436954ae6908ab" kindref="member">SIL_SOLVER_TYPE_FIXED</ref>,<sp/><ref refid="lib_epc_control_8h_1a9d01562d58954e7706d3de172b37562ba6580cbabc0e59966d19d62a57017ed8f" kindref="member">SIL_MODEL_INTENT_AVERAGED</ref>,<sp/>pmvsPath);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Restore<sp/>variables<sp/>from<sp/>a<sp/>snapshot<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*readSnapshot)<sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a05952bd1e61b51d0d4ba7e19c28ea50f" kindref="member">SIL_readSnapshotDll</ref>[instanceIdx](*instanceNumber,<sp/>tempPath);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1ad50078ba9a1e1342e798d42c24c25ab4a498565ca366416aa65e1e213e96c9f2e" kindref="member">ECU_INIT_SUCCESSFUL</ref>;</highlight></codeline>
<codeline lineno="286"><highlight class="normal">}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="290"><highlight class="comment"><sp/>Function<sp/><sp/><sp/><sp/><sp/>:<sp/>ECU_controlTerminate</highlight></codeline>
<codeline lineno="291"><highlight class="comment"><sp/>Full<sp/>Name<sp/><sp/><sp/><sp/>:<sp/>EpcControlUnit.controlTerminate</highlight></codeline>
<codeline lineno="292"><highlight class="comment"><sp/>Visibility<sp/><sp/><sp/>:<sp/>Protected</highlight></codeline>
<codeline lineno="293"><highlight class="comment"></highlight></codeline>
<codeline lineno="294"><highlight class="comment"><sp/>In<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>instanceNumber<sp/><sp/>-<sp/>pointer<sp/>to<sp/>instance<sp/>number,<sp/>the<sp/>first<sp/>instance<sp/>has<sp/>a<sp/>number<sp/>of<sp/>1</highlight></codeline>
<codeline lineno="295"><highlight class="comment"><sp/>InOut<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="296"><highlight class="comment"><sp/>Out<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="297"><highlight class="comment"><sp/>Returns<sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="298"><highlight class="comment"><sp/>Description<sp/><sp/>:<sp/>Free<sp/>dll<sp/>files<sp/>which<sp/>have<sp/>been<sp/>loaded<sp/>in<sp/>the<sp/>initialization<sp/>phase.</highlight></codeline>
<codeline lineno="299"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Called<sp/>upon<sp/>end<sp/>of<sp/>the<sp/>simulation.</highlight></codeline>
<codeline lineno="300"><highlight class="comment">*********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a7a67c50669c6ba2f0d027951e720e848" kindref="member">ECU_controlTerminate</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*instanceNumber)<sp/>{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>instanceIdx<sp/>=<sp/>(uint16_t)(*instanceNumber<sp/>-<sp/>1);<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Instance<sp/>index<sp/>for<sp/>arrays<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DLL_library[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FreeLibrary(DLL_library[instanceIdx]);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal">}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="311"><highlight class="comment"><sp/>Function<sp/><sp/><sp/><sp/><sp/>:<sp/>ECU_controlUpdate</highlight></codeline>
<codeline lineno="312"><highlight class="comment"><sp/>Full<sp/>Name<sp/><sp/><sp/><sp/>:<sp/>EpcControlUnit.controlUpdate</highlight></codeline>
<codeline lineno="313"><highlight class="comment"><sp/>Visibility<sp/><sp/><sp/>:<sp/>Protected</highlight></codeline>
<codeline lineno="314"><highlight class="comment"></highlight></codeline>
<codeline lineno="315"><highlight class="comment"><sp/>In<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>instanceNumber<sp/><sp/>-<sp/>pointer<sp/>to<sp/>instance<sp/>number,<sp/>the<sp/>first<sp/>instance<sp/>has<sp/>a<sp/>number<sp/>of<sp/>1</highlight></codeline>
<codeline lineno="316"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>writeSnapshot<sp/><sp/><sp/>-<sp/>pointer<sp/>to<sp/>snapshot<sp/>writing<sp/>request,<sp/>integer<sp/>due<sp/>to<sp/>Fortran<sp/>interface</highlight></codeline>
<codeline lineno="317"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tSim<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>present<sp/>simulation<sp/>time;</highlight></codeline>
<codeline lineno="318"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tlcIn<sp/>...</highlight></codeline>
<codeline lineno="319"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refOut<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>pointers<sp/>to<sp/>EPC<sp/>Control<sp/>unit<sp/>inputs/outputs</highlight></codeline>
<codeline lineno="320"><highlight class="comment"><sp/>InOut<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="321"><highlight class="comment"><sp/>Out<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="322"><highlight class="comment"><sp/>Returns<sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="323"><highlight class="comment"><sp/>Description<sp/><sp/>:<sp/>Update<sp/>EPC<sp/>Control<sp/>internal<sp/>state,<sp/>during<sp/>which<sp/>library<sp/>will<sp/>read<sp/>from<sp/>inputs<sp/>by<sp/>reference.</highlight></codeline>
<codeline lineno="324"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>N.B.<sp/>This<sp/>function<sp/>combines<sp/>state<sp/>and<sp/>output<sp/>updates<sp/>and<sp/>is<sp/>called<sp/>at<sp/>the<sp/>DSDYN<sp/>phase<sp/>of</highlight></codeline>
<codeline lineno="325"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>EMTDC<sp/>simulation<sp/>loop.<sp/>The<sp/>outputs<sp/>synthesized<sp/>will<sp/>be<sp/>the<sp/>present<sp/>timestep<sp/>forcing</highlight></codeline>
<codeline lineno="326"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>functions<sp/>for<sp/>the<sp/>network<sp/>dynamic<sp/>model.<sp/>The<sp/>samples/measurements/inputs<sp/>available<sp/>are</highlight></codeline>
<codeline lineno="327"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>from<sp/>the<sp/>end<sp/>of<sp/>the<sp/>previous<sp/>discretization<sp/>timestep.<sp/>In<sp/>order<sp/>to<sp/>retain<sp/>expected</highlight></codeline>
<codeline lineno="328"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>discretization<sp/>coherence,<sp/>this<sp/>means<sp/>the<sp/>state<sp/>update<sp/>call<sp/>into<sp/>the<sp/>EPC<sp/>SIL<sp/>Library<sp/>takes</highlight></codeline>
<codeline lineno="329"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>place<sp/>first;<sp/>followed<sp/>by<sp/>output<sp/>update<sp/>call.<sp/>Normally<sp/>this<sp/>is<sp/>done<sp/>in<sp/>reverse<sp/>for<sp/>other</highlight></codeline>
<codeline lineno="330"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>solvers.</highlight></codeline>
<codeline lineno="331"><highlight class="comment">*********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a84f39360200a5121adfaa47c0a966413" kindref="member">ECU_controlUpdate</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*instanceNumber,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*writeSnapshot,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tSim,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tlcIn[6U],<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ctl[1U],</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>ref[6U],<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>fbk[11U],<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rly[4U],<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>mod[6U],<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>stat[6U],</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>mon[17U],<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tlcOut[21U],<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dbg[32U],<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>refOut[4U],</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*tempPath)<sp/>{</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/><sp/><sp/><sp/>instanceIdx<sp/>=<sp/>(uint16_t)(*instanceNumber<sp/>-<sp/>1);<sp/><sp/></highlight><highlight class="comment">/*<sp/>Instance<sp/>index<sp/>for<sp/>arrays<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/><sp/><sp/><sp/>i<sp/>=<sp/>0U;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Index<sp/>for<sp/>translating<sp/>input/outputs<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight><highlight class="comment"><sp/><sp/><sp/><sp/>/**************************************************************************</highlight></codeline>
<codeline lineno="341"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>Translate<sp/>PSCAD<sp/>Inputs<sp/>*************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(&amp;ECU_Inputs[instanceIdx].tlcPdi,<sp/>tlcIn,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_e_c_u___input_tlc_pdi__s" kindref="compound">ECU_InputTlcPdi_t</ref>));</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tSim<sp/>&gt;<sp/>100e-3)<sp/>{</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a22397e9b1f74ad4f7362a5e0a9d905b4" kindref="member">control</ref>.<ref refid="struct_e_c_u___input_control__s_1a6f2be2fab0203c66d6bf02a97a8ebd7f" kindref="member">runRequest</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(double)ctl[0U];</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a22397e9b1f74ad4f7362a5e0a9d905b4" kindref="member">control</ref>.<ref refid="struct_e_c_u___input_control__s_1a6f2be2fab0203c66d6bf02a97a8ebd7f" kindref="member">runRequest</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a5ef83c2911f09fe4df4e4ba645a9139b" kindref="member">fvRef</ref>[0U]<sp/><sp/><sp/><sp/><sp/>=<sp/>ref[0U];</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a5ef83c2911f09fe4df4e4ba645a9139b" kindref="member">fvRef</ref>[1U]<sp/><sp/><sp/><sp/><sp/>=<sp/>ref[1U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a44d86f63e1aea9eb93b0c6966167f65b" kindref="member">ECU_SCALE_FROM_PSC_V</ref>;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a8e3d79b837359aed30feb3eb11dcdbb0" kindref="member">rIg</ref>[0U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ref[2U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a35fb0e0c9c3c695d27f8f8dcfa4a711c" kindref="member">ECU_SCALE_FROM_PSC_I</ref>;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a8e3d79b837359aed30feb3eb11dcdbb0" kindref="member">rIg</ref>[1U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ref[3U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a35fb0e0c9c3c695d27f8f8dcfa4a711c" kindref="member">ECU_SCALE_FROM_PSC_I</ref>;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a8e3d79b837359aed30feb3eb11dcdbb0" kindref="member">rIg</ref>[2U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1a8e3d79b837359aed30feb3eb11dcdbb0" kindref="member">rIg</ref>[3U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1af2e4a0e03243482429cb905c69636ad2" kindref="member">rPg</ref>[0U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ref[4U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a5b3287e95c8ab5de4e15670efccce003" kindref="member">ECU_SCALE_FROM_PSC_P</ref>;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a76dea4d0c8998cfd4d8059fb8262298f" kindref="member">reference</ref>.<ref refid="struct_e_c_u___input_reference__s_1af2e4a0e03243482429cb905c69636ad2" kindref="member">rPg</ref>[1U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ref[5U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a5b3287e95c8ab5de4e15670efccce003" kindref="member">ECU_SCALE_FROM_PSC_P</ref>;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>EPC<sp/>2L<sp/>topology<sp/>converters<sp/>measure<sp/>DC<sp/>voltage<sp/>on<sp/>two<sp/>channels<sp/>in<sp/>real<sp/>hardware.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>.<ref refid="struct_e_c_u___input_feedback__s_1a6ad89ef8c33c3adc97cf20d46f8f7201" kindref="member">dcV</ref>[0U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>fbk[0U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a44d86f63e1aea9eb93b0c6966167f65b" kindref="member">ECU_SCALE_FROM_PSC_V</ref>;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>.<ref refid="struct_e_c_u___input_feedback__s_1a6ad89ef8c33c3adc97cf20d46f8f7201" kindref="member">dcV</ref>[1U]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>fbk[1U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a44d86f63e1aea9eb93b0c6966167f65b" kindref="member">ECU_SCALE_FROM_PSC_V</ref>;</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Store/translate<sp/>converter<sp/>current<sp/>and<sp/>local<sp/>voltage<sp/>measurement<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0U;<sp/>i<sp/>&lt;<sp/>6U;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><sp/>j<sp/>=<sp/>i<sp/>+<sp/>2U;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>.<ref refid="struct_e_c_u___input_feedback__s_1a59d54c8fc746415466047bb0cc8bee5d" kindref="member">pIc</ref>[i]<sp/><sp/><sp/><sp/><sp/>=<sp/>fbk[j]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a35fb0e0c9c3c695d27f8f8dcfa4a711c" kindref="member">ECU_SCALE_FROM_PSC_I</ref>;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0U;<sp/>i<sp/>&lt;<sp/>3U;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><sp/>j<sp/>=<sp/>i<sp/>+<sp/>8U;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ECU_Inputs[instanceIdx].<ref refid="struct_e_c_u___input__s_1a53eed7c3bc6df0ff09294aff404750d8" kindref="member">feedback</ref>.<ref refid="struct_e_c_u___input_feedback__s_1ad5b9ee2857ef88d289f6f158f62aa267" kindref="member">pVl</ref>[i]<sp/><sp/><sp/><sp/><sp/>=<sp/>fbk[j]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a44d86f63e1aea9eb93b0c6966167f65b" kindref="member">ECU_SCALE_FROM_PSC_V</ref>;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight><highlight class="comment"><sp/><sp/><sp/><sp/>/**************************************************************************</highlight></codeline>
<codeline lineno="379"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>EPC<sp/>Control<sp/>Update<sp/>*****************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1acfab1bdc19dfdaf14de941b25a0def42" kindref="member">SIL_updateOutputDll</ref>[instanceIdx](tSim);</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a99cba5606dc411a2ca258e735a1b7f4e" kindref="member">SIL_updateStateDll</ref>[instanceIdx](tSim);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight><highlight class="comment"><sp/><sp/><sp/><sp/>/**************************************************************************</highlight></codeline>
<codeline lineno="386"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>Translate<sp/>Library<sp/>Outputs<sp/>**********************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Relay<sp/>outputs<sp/>(double<sp/>to<sp/>int)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0U;<sp/>i<sp/>&lt;<sp/>4U;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rly[i]<sp/><sp/>=<sp/>(int)(ECU_Outputs[instanceIdx].control.relay[i]<sp/>==<sp/>0.0L);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Normalized<sp/>&quot;modulation&quot;<sp/>references<sp/>output<sp/>mapping<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0U;<sp/>i<sp/>&lt;<sp/>3U;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>i<sp/>*<sp/>2U;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>k<sp/>=<sp/>i<sp/>+<sp/>3U;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>l<sp/>=<sp/>j<sp/>+<sp/>1U;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mod[i]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1aafca3881519e887e1d837515d4cb6e0d" kindref="member">control</ref>.<ref refid="struct_e_c_u___output_control__s_1a4c3c8b620a94dedf1fbcc260014861eb" kindref="member">mod</ref>[j]<sp/>*<sp/>0.5L;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mod[k]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1aafca3881519e887e1d837515d4cb6e0d" kindref="member">control</ref>.<ref refid="struct_e_c_u___output_control__s_1a4c3c8b620a94dedf1fbcc260014861eb" kindref="member">mod</ref>[l]<sp/>*<sp/>0.5L;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Status<sp/>(double<sp/>to<sp/>int)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0U;<sp/>i<sp/>&lt;<sp/>3U;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>i<sp/>+<sp/>3U;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stat[i]<sp/>=<sp/>(int)ECU_Outputs[instanceIdx].status.controlStatus[i];</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stat[j]<sp/>=<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a4e3501ea02be276acf88cb2cf969a317" kindref="member">status</ref>.<ref refid="struct_e_c_u___output_status__s_1a36aaac4671ac20411cd4ccd1e36d1723" kindref="member">gridMonitorLocal</ref>[i];</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Monitor<sp/>scale<sp/>conversions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>mon[0U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1aabe5ff0fa220f8329a2ead03969df6c9" kindref="member">fvLocal</ref>[0U];</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/>mon[1U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1aabe5ff0fa220f8329a2ead03969df6c9" kindref="member">fvLocal</ref>[1U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a8a87ace1ff44a908fa1c947428ebebf2" kindref="member">ECU_SCALE_TO_PSC_V</ref>;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>mon[2U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1aabe5ff0fa220f8329a2ead03969df6c9" kindref="member">fvLocal</ref>[2U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a8a87ace1ff44a908fa1c947428ebebf2" kindref="member">ECU_SCALE_TO_PSC_V</ref>;</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0U;<sp/>i<sp/>&lt;<sp/>4U;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>i<sp/>+<sp/>3U;</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>k<sp/>=<sp/>i<sp/>+<sp/>7U;</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint16_t<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>l<sp/>=<sp/>i<sp/>+<sp/>11U;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mon[j]<sp/><sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a9515c7d915f6aaaac6d2c37ffb1c0b21" kindref="member">mIg</ref>[i]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a0a55c9c8b8b81c912f11d45e256aec5b" kindref="member">ECU_SCALE_TO_PSC_I</ref>;</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mon[k]<sp/><sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a3e3e0f3f2dc1e1f8a89394c5f8ac455f" kindref="member">mPg</ref>[i]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a702c18336033286b02b95866383fec06" kindref="member">ECU_SCALE_TO_PSC_P</ref>;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mon[l]<sp/><sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a79ce2ddc6bc6684395e66df33be3e436" kindref="member">scI</ref>[i]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a0a55c9c8b8b81c912f11d45e256aec5b" kindref="member">ECU_SCALE_TO_PSC_I</ref>;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>mon[15U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a5f7f5d0efac544fbf92949956d8288ba" kindref="member">scV</ref>[0U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a8a87ace1ff44a908fa1c947428ebebf2" kindref="member">ECU_SCALE_TO_PSC_V</ref>;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/>mon[16U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1a2e71a54ad9c90bee28d7f992ba7b17c4" kindref="member">monitor</ref>.<ref refid="struct_e_c_u___output_monitor__s_1a5f7f5d0efac544fbf92949956d8288ba" kindref="member">scV</ref>[1U]<sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a8a87ace1ff44a908fa1c947428ebebf2" kindref="member">ECU_SCALE_TO_PSC_V</ref>;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>TLC<sp/>(copy)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(tlcOut,<sp/>&amp;ECU_Outputs[instanceIdx].tlcPdo,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_e_c_u___output_tlc_pdo__s" kindref="compound">ECU_sOutputTlcPdo_t</ref>));</highlight></codeline>
<codeline lineno="431"><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Debug<sp/>(copy)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(dbg,<sp/>ECU_Outputs[instanceIdx].debug,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ECU_Outputs[instanceIdx].debug));</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Internal<sp/>references<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/>refOut[0U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1accf89128f04bc9745220b7e028d76b65" kindref="member">refOut</ref>.<ref refid="struct_e_c_u___output_reference__s_1afd2cac0933eeed660a7463ff3809aa8b" kindref="member">rf_ref</ref>;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/>refOut[1U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1accf89128f04bc9745220b7e028d76b65" kindref="member">refOut</ref>.<ref refid="struct_e_c_u___output_reference__s_1afab1c97b00be2b75effbcade675485bf" kindref="member">rv_ref</ref><sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a8a87ace1ff44a908fa1c947428ebebf2" kindref="member">ECU_SCALE_TO_PSC_V</ref>;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/>refOut[2U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1accf89128f04bc9745220b7e028d76b65" kindref="member">refOut</ref>.<ref refid="struct_e_c_u___output_reference__s_1a502aaacad7d9a03df5d2070b37bb6b4b" kindref="member">rId</ref><sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a0a55c9c8b8b81c912f11d45e256aec5b" kindref="member">ECU_SCALE_TO_PSC_I</ref>;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>refOut[3U]<sp/>=<sp/>ECU_Outputs[instanceIdx].<ref refid="struct_e_c_u___output__s_1accf89128f04bc9745220b7e028d76b65" kindref="member">refOut</ref>.<ref refid="struct_e_c_u___output_reference__s_1a0c21bb3a69c71b258f20700db40cb2c8" kindref="member">rIq</ref><sp/>*<sp/><ref refid="epc_control_unit__psc_8c_1a0a55c9c8b8b81c912f11d45e256aec5b" kindref="member">ECU_SCALE_TO_PSC_I</ref>;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Write<sp/>variables<sp/>to<sp/>a<sp/>snapshot<sp/>file<sp/>if<sp/>the<sp/>flag<sp/>is<sp/>set<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*writeSnapshot)<sp/>{</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a5cfbb854944792b0587874dd4bf93578" kindref="member">SIL_writeSnapshotDll</ref>[instanceIdx](tSim,<sp/>*instanceNumber,<sp/>tempPath);</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="445"><highlight class="normal">}</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight><highlight class="comment">/********************************************************************************************************</highlight></codeline>
<codeline lineno="449"><highlight class="comment"><sp/>*<sp/>Local<sp/>Functions</highlight></codeline>
<codeline lineno="450"><highlight class="comment"><sp/>********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight><highlight class="comment"><sp/>/********************************************************************************************************</highlight></codeline>
<codeline lineno="453"><highlight class="comment"><sp/><sp/>Function<sp/><sp/><sp/><sp/><sp/>:<sp/>ECU_loadDllFile</highlight></codeline>
<codeline lineno="454"><highlight class="comment"><sp/><sp/>Full<sp/>Name<sp/><sp/><sp/><sp/>:<sp/>EpcControlUnit.loadDllFile</highlight></codeline>
<codeline lineno="455"><highlight class="comment"><sp/><sp/>Visibility<sp/><sp/><sp/>:<sp/>Private</highlight></codeline>
<codeline lineno="456"><highlight class="comment"></highlight></codeline>
<codeline lineno="457"><highlight class="comment"><sp/><sp/>In<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>dllPath<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>pointer<sp/>to<sp/>character<sp/>array<sp/>containing<sp/>path<sp/>to<sp/>converter<sp/>library<sp/>dll<sp/>file.</highlight></codeline>
<codeline lineno="458"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempPath<sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>pointer<sp/>to<sp/>character<sp/>array<sp/>containing<sp/>path<sp/>to<sp/>temporary<sp/>simulation<sp/>files.</highlight></codeline>
<codeline lineno="459"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instanceNumber<sp/>-<sp/>Instance<sp/>number,<sp/>the<sp/>first<sp/>instance<sp/>has<sp/>a<sp/>number<sp/>of<sp/>1</highlight></codeline>
<codeline lineno="460"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>multipleRun<sp/><sp/><sp/><sp/>-<sp/>Multiple<sp/>Run<sp/>status:<sp/>0<sp/>==<sp/>Simulation<sp/>run<sp/>#1<sp/>is<sp/>ongoing</highlight></codeline>
<codeline lineno="461"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/>==<sp/>Simulation<sp/>run<sp/>#2<sp/>or<sp/>higher<sp/>is<sp/>ongoing</highlight></codeline>
<codeline lineno="462"><highlight class="comment"><sp/><sp/>InOut<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="463"><highlight class="comment"><sp/><sp/>Out<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>None</highlight></codeline>
<codeline lineno="464"><highlight class="comment"><sp/><sp/>Returns<sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>Status<sp/>of<sp/>the<sp/>DLL<sp/>file<sp/>loading</highlight></codeline>
<codeline lineno="465"><highlight class="comment"><sp/><sp/>Description<sp/><sp/>:<sp/>Loads<sp/>dll<sp/>file<sp/>which<sp/>contain<sp/>SIL<sp/>library<sp/>implementation.<sp/>There<sp/>needs<sp/>to<sp/>be<sp/>a<sp/>separate</highlight></codeline>
<codeline lineno="466"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dll<sp/>file<sp/>for<sp/>each<sp/>converter<sp/>instance<sp/>and<sp/>that&apos;s<sp/>why<sp/>the<sp/>generic<sp/>dll<sp/>file<sp/>needs<sp/>to<sp/>be</highlight></codeline>
<codeline lineno="467"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>copied<sp/>and<sp/>renamed<sp/>according<sp/>to<sp/>the<sp/>given<sp/>instance<sp/>number.</highlight></codeline>
<codeline lineno="468"><highlight class="comment"><sp/>*********************************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><ref refid="epc_control_unit__psc_8c_1a1b64e2cee159f7602749caf581e386e4" kindref="member">ECU_DllLoadStatus_t</ref><sp/>ECU_loadDllFile(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*dllPath,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*tempPath,<sp/>uint16_t<sp/>instanceNumber,<sp/>uint16_t<sp/>multipleRun)<sp/>{</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/><sp/><sp/><sp/>instanceIdx<sp/>=<sp/>instanceNumber<sp/>-<sp/>1;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Instance<sp/>index<sp/>for<sp/>arrays<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fullPathGeneric[MAX_PATH];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Full<sp/>path<sp/>for<sp/>the<sp/>generic<sp/>dll<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fullPathInstance[MAX_PATH];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Full<sp/>path<sp/>for<sp/>the<sp/>instance<sp/>specific<sp/>dll<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempChar;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>reading<sp/>and<sp/>writing<sp/>characters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*source,<sp/>*target;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>File<sp/>handles<sp/>for<sp/>copying<sp/>the<sp/>dll<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>a<sp/>full<sp/>path<sp/>for<sp/>the<sp/>generic<sp/>dll<sp/>file.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>_fullpath(fullPathGeneric,<sp/>dllPath,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>a<sp/>full<sp/>path<sp/>for<sp/>the<sp/>instance<sp/>specific<sp/>dll<sp/>file.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/>_fullpath(fullPathInstance,<sp/>tempPath,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>a<sp/>filename<sp/>based<sp/>on<sp/>given<sp/>instance<sp/>number<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>sprintf_s(fullPathInstance,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(fullPathInstance),<sp/></highlight><highlight class="stringliteral">&quot;%s%s%d%s&quot;</highlight><highlight class="normal">,<sp/>fullPathInstance,<sp/><ref refid="epc_control_unit__psc_8c_1a73c7870ad0714f77bbe77f7f621b3bb5" kindref="member">ECU_DLL_TARGET_FILENAME</ref>,<sp/>instanceNumber,<sp/><ref refid="epc_control_unit__psc_8c_1a4a872ccbd01bb8c26c9b67fe13895528" kindref="member">ECU_DLL_FILE_EXTENSION</ref>);</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>generic<sp/>dll<sp/>file<sp/>into<sp/>an<sp/>instance<sp/>specific<sp/>dll<sp/>only<sp/>if<sp/>we<sp/>are<sp/>executing<sp/>this<sp/>for<sp/>the<sp/>first<sp/>time,</highlight></codeline>
<codeline lineno="486"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i.e.,<sp/>the<sp/>simulation<sp/>run<sp/>#1<sp/>is<sp/>ongoing.<sp/>In<sp/>the<sp/>Multiple<sp/>Run<sp/>function<sp/>we<sp/>will<sp/>initialize<sp/>the<sp/>model</highlight></codeline>
<codeline lineno="487"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>the<sp/>beginning<sp/>of<sp/>each<sp/>simulation<sp/>run<sp/>and<sp/>copying<sp/>of<sp/>dll<sp/>files<sp/>is<sp/>needed<sp/>only<sp/>for<sp/>the<sp/>first<sp/>run.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!multipleRun)<sp/>{</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>the<sp/>source<sp/>file<sp/>for<sp/>reading<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fopen_s(&amp;source,<sp/>fullPathGeneric,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!source)<sp/>{</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>loading<sp/>of<sp/>the<sp/>file<sp/>%s<sp/>was<sp/>not<sp/>successful.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">,<sp/>fullPathGeneric);</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>the<sp/>target<sp/>file<sp/>for<sp/>writing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fopen_s(&amp;target,<sp/>fullPathInstance,<sp/></highlight><highlight class="stringliteral">&quot;wb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!target)<sp/>{</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>Opening<sp/>of<sp/>the<sp/>file<sp/>%s<sp/>for<sp/>writing<sp/>was<sp/>not<sp/>successful.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">,<sp/>fullPathInstance);</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fclose(source);</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>generic<sp/>dll<sp/>file<sp/>into<sp/>a<sp/>instance<sp/>specific<sp/>dll<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((tempChar<sp/>=<sp/>fgetc(source))<sp/>!=<sp/>EOF)<sp/>{</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fputc(tempChar,<sp/>target);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fclose(source);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fclose(target);</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Load<sp/>the<sp/>instance<sp/>dll<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>Loading<sp/>DLL<sp/>from<sp/>%s\n&quot;</highlight><highlight class="normal">,<sp/>fullPathInstance);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>DLL_library[instanceIdx]<sp/>=<sp/>LoadLibrary(fullPathInstance);</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(DLL_library[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>memory<sp/>address<sp/>of<sp/>SIL_Ports<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SIL_PortsDll[instanceIdx]<sp/>=<sp/>(<ref refid="struct_s_i_l___ports__s" kindref="compound">SIL_sPorts_t</ref><sp/>**)GetProcAddress(DLL_library[instanceIdx],<sp/></highlight><highlight class="stringliteral">&quot;SIL_PortsDll&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>memory<sp/>addresses<sp/>(function<sp/>pointers)<sp/>for<sp/>SIL<sp/>library<sp/>function<sp/>calls<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a3061953e757ae035f13df29ba38c1e93" kindref="member">SIL_initializeLibraryDll</ref>[instanceIdx]<sp/><sp/><sp/>=<sp/>(<ref refid="epc_control_unit__psc_8c_1aa87a00c8e7be1d6aafd8773a8baf8faf" kindref="member">SIL_initializeLibraryDll_t</ref>)GetProcAddress(DLL_library[instanceIdx],<sp/></highlight><highlight class="stringliteral">&quot;SIL_initializeLibraryDll&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1acfab1bdc19dfdaf14de941b25a0def42" kindref="member">SIL_updateOutputDll</ref>[instanceIdx]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="epc_control_unit__psc_8c_1a544495a6a6fa5738f6ba2b7887561256" kindref="member">SIL_updateOutputDll_t</ref>)GetProcAddress(DLL_library[instanceIdx],<sp/></highlight><highlight class="stringliteral">&quot;SIL_updateOutputDll&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a99cba5606dc411a2ca258e735a1b7f4e" kindref="member">SIL_updateStateDll</ref>[instanceIdx]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="epc_control_unit__psc_8c_1aeec649cafc11e4c145d9a1943e292f2a" kindref="member">SIL_updateStateDll_t</ref>)GetProcAddress(DLL_library[instanceIdx],<sp/></highlight><highlight class="stringliteral">&quot;SIL_updateStateDll&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a5cfbb854944792b0587874dd4bf93578" kindref="member">SIL_writeSnapshotDll</ref>[instanceIdx]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="epc_control_unit__psc_8c_1acd0a43da0d2862d66ca1a1cf4482d828" kindref="member">SIL_writeSnapshotDll_t</ref>)GetProcAddress(DLL_library[instanceIdx],<sp/></highlight><highlight class="stringliteral">&quot;SIL_writeSnapshotDll&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="dll_epc_control_8h_1a05952bd1e61b51d0d4ba7e19c28ea50f" kindref="member">SIL_readSnapshotDll</ref>[instanceIdx]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>(<ref refid="epc_control_unit__psc_8c_1a6aafa2e0d4a767e704ff64d2909888e8" kindref="member">SIL_readSnapshotDll_t</ref>)GetProcAddress(DLL_library[instanceIdx],<sp/></highlight><highlight class="stringliteral">&quot;SIL_readSnapshotDll&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>we<sp/>got<sp/>a<sp/>proper<sp/>(i.e.<sp/>non-NULL)<sp/>addresses.<sp/>If<sp/>not,<sp/>stop<sp/>the<sp/>simulation.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!SIL_PortsDll[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>SIL_Ports<sp/>address<sp/>was<sp/>not<sp/>found.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="dll_epc_control_8h_1a3061953e757ae035f13df29ba38c1e93" kindref="member">SIL_initializeLibraryDll</ref>[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>SIL_initializeLibrary<sp/>address<sp/>was<sp/>not<sp/>found.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="dll_epc_control_8h_1acfab1bdc19dfdaf14de941b25a0def42" kindref="member">SIL_updateOutputDll</ref>[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>SIL_updateOutput<sp/>address<sp/>was<sp/>not<sp/>found.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="dll_epc_control_8h_1a99cba5606dc411a2ca258e735a1b7f4e" kindref="member">SIL_updateStateDll</ref>[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>SIL_updateState<sp/>address<sp/>was<sp/>not<sp/>found.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="dll_epc_control_8h_1a5cfbb854944792b0587874dd4bf93578" kindref="member">SIL_writeSnapshotDll</ref>[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>SIL_writeSnapshot<sp/>address<sp/>was<sp/>not<sp/>found.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="dll_epc_control_8h_1a05952bd1e61b51d0d4ba7e19c28ea50f" kindref="member">SIL_readSnapshotDll</ref>[instanceIdx])<sp/>{</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>SIL_readSnapshot<sp/>address<sp/>was<sp/>not<sp/>found.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>DLL<sp/>loading<sp/>was<sp/>successful.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;SIL:<sp/>DLL<sp/>loading<sp/>was<sp/>not<sp/>successful.<sp/>Ending<sp/>simulation<sp/>now.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daf06e5804ec030586b102fd55a3c18135" kindref="member">ECU_DLL_LOAD_FAILED</ref>;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="epc_control_unit__psc_8c_1a1296192a8d6b24fc4a4d13b0ef7bb61daa0e615cfe4098aaeea7707edc64c5ce4" kindref="member">ECU_DLL_LOAD_SUCCESSFUL</ref>;</highlight></codeline>
<codeline lineno="563"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/Users/RileyTurner/Desktop/gridtied copy/sil/psc/libEpcControlDev/epcControlUnit_psc.c"/>
  </compounddef>
</doxygen>
